/*!
 * A lightweight, dependency-free and responsive javascript plugin for particle backgrounds.
 *
 * @author Marc Bruederlin <hello@marcbruederlin.com>
 * @version 2.2.3
 * @license MIT
 * @see https://github.com/marcbruederlin/particles.js
 */var Particles=function(s,g){"use strict";var l,f={};function x(e,t){return e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0}return l=function(){function e(){var t=this;t.defaults={responsive:null,selector:null,maxParticles:100,sizeVariations:3,showParticles:!0,speed:.5,color:"#000000",minDistance:120,connectParticles:!1},t.element=null,t.context=null,t.ratio=null,t.breakpoints=[],t.activeBreakpoint=null,t.breakpointSettings=[],t.originalSettings=null,t.storage=[],t.usingPolyfill=!1}return e}(),l.prototype.init=function(e){var t=this;return t.options=t._extend(t.defaults,e),t.originalSettings=JSON.parse(JSON.stringify(t.options)),t._animate=t._animate.bind(t),t._initializeCanvas(),t._initializeEvents(),t._registerBreakpoints(),t._checkResponsive(),t._initializeStorage(),t._animate(),t},l.prototype.destroy=function(){var e=this;e.storage=[],e.element.remove(),s.removeEventListener("resize",e.listener,!1),s.clearTimeout(e._animation),cancelAnimationFrame(e._animation)},l.prototype._initializeCanvas=function(){var e=this,t,n;if(!e.options.selector)return console.warn("particles.js: No selector specified! Check https://github.com/marcbruederlin/particles.js#options"),!1;e.element=g.querySelector(e.options.selector),e.context=e.element.getContext("2d"),t=s.devicePixelRatio||1,n=e.context.webkitBackingStorePixelRatio||e.context.mozBackingStorePixelRatio||e.context.msBackingStorePixelRatio||e.context.oBackingStorePixelRatio||e.context.backingStorePixelRatio||1,e.ratio=t/n,e.element.width=e.element.offsetParent?e.element.offsetParent.clientWidth*e.ratio:e.element.clientWidth*e.ratio,e.element.offsetParent&&e.element.offsetParent.nodeName==="BODY"?e.element.height=s.innerHeight*e.ratio:e.element.height=e.element.offsetParent?e.element.offsetParent.clientHeight*e.ratio:e.element.clientHeight*e.ratio,e.element.style.width="100%",e.element.style.height="100%",e.context.scale(e.ratio,e.ratio)},l.prototype._initializeEvents=function(){var e=this;e.listener=function(){e._resize()}.bind(this),s.addEventListener("resize",e.listener,!1)},l.prototype._initializeStorage=function(){var e=this;e.storage=[];for(var t=e.options.maxParticles;t--;)e.storage.push(new f(e.context,e.options))},l.prototype._registerBreakpoints=function(){var e=this,t,n,i,o=e.options.responsive||null;if(typeof o=="object"&&o!==null&&o.length){for(t in o)if(i=e.breakpoints.length-1,n=o[t].breakpoint,o.hasOwnProperty(t)){for(;i>=0;)e.breakpoints[i]&&e.breakpoints[i]===n&&e.breakpoints.splice(i,1),i--;e.breakpoints.push(n),e.breakpointSettings[n]=o[t].options}e.breakpoints.sort(function(r,a){return a-r})}},l.prototype._checkResponsive=function(){var e=this,t,n=!1,i=s.innerWidth;if(e.options.responsive&&e.options.responsive.length&&e.options.responsive!==null){n=null;for(t in e.breakpoints)e.breakpoints.hasOwnProperty(t)&&i<=e.breakpoints[t]&&(n=e.breakpoints[t]);n!==null?(e.activeBreakpoint=n,e.options=e._extend(e.options,e.breakpointSettings[n])):e.activeBreakpoint!==null&&(e.activeBreakpoint=null,n=null,e.options=e._extend(e.options,e.originalSettings))}},l.prototype._refresh=function(){var e=this;e._initializeStorage(),e._draw()},l.prototype._resize=function(){var e=this;e.element.width=e.element.offsetParent?e.element.offsetParent.clientWidth*e.ratio:e.element.clientWidth*e.ratio,e.element.offsetParent&&e.element.offsetParent.nodeName==="BODY"?e.element.height=s.innerHeight*e.ratio:e.element.height=e.element.offsetParent?e.element.offsetParent.clientHeight*e.ratio:e.element.clientHeight*e.ratio,e.context.scale(e.ratio,e.ratio),clearTimeout(e.windowDelay),e.windowDelay=s.setTimeout(function(){e._checkResponsive(),e._refresh()},50)},l.prototype._animate=function(){var e=this;e._draw(),e._animation=s.requestAnimFrame(e._animate)},l.prototype.resumeAnimation=function(){var e=this;e._animation||e._animate()},l.prototype.pauseAnimation=function(){var e=this;if(e._animation){if(e.usingPolyfill)s.clearTimeout(e._animation);else{var t=s.cancelAnimationFrame||s.webkitCancelAnimationFrame||s.mozCancelAnimationFrame;t(e._animation)}e._animation=null}},l.prototype._draw=function(){var e=this,t=e.element,n=t.offsetParent?t.offsetParent.clientWidth:t.clientWidth,i=t.offsetParent?t.offsetParent.clientHeight:t.clientHeight,o=e.options.showParticles,r=e.storage;t.offsetParent&&t.offsetParent.nodeName==="BODY"&&(i=s.innerHeight),e.context.clearRect(0,0,t.width,t.height),e.context.beginPath();for(var a=r.length;a--;){var c=r[a];o&&c._draw(),c._updateCoordinates(n,i)}e.options.connectParticles&&(r.sort(x),e._updateEdges())},l.prototype._updateEdges=function(){for(var e=this,t=e.options.minDistance,n=Math.sqrt,i=Math.abs,o=e.storage,r=o.length,a=0;a<r;a++)for(var c=o[a],u=a+1;u<r;u++){var h=o[u],m,p=c.x-h.x,_=c.y-h.y;if(m=n(p*p+_*_),i(p)>t)break;m<=t&&e._drawEdge(c,h,1.2-m/t)}},l.prototype._drawEdge=function(e,t,n){var i=this,o=i.context.createLinearGradient(e.x,e.y,t.x,t.y),r=this._hex2rgb(e.color),a=this._hex2rgb(t.color);o.addColorStop(0,"rgba("+r.r+","+r.g+","+r.b+","+n+")"),o.addColorStop(1,"rgba("+a.r+","+a.g+","+a.b+","+n+")"),i.context.beginPath(),i.context.strokeStyle=o,i.context.moveTo(e.x,e.y),i.context.lineTo(t.x,t.y),i.context.stroke(),i.context.fill(),i.context.closePath()},l.prototype._extend=function(e,t){return Object.keys(t).forEach(function(n){e[n]=t[n]}),e},l.prototype._hex2rgb=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},f=function(e,t){var n=this,i=Math.random,o=t.speed,r=t.color instanceof Array?t.color[Math.floor(Math.random()*t.color.length)]:t.color;n.context=e,n.options=t;var a=g.querySelector(t.selector);n.x=a.offsetParent?i()*a.offsetParent.clientWidth:i()*a.clientWidth,a.offsetParent&&a.offsetParent.nodeName==="BODY"?n.y=i()*s.innerHeight:n.y=a.offsetParent?i()*a.offsetParent.clientHeight:i()*a.clientHeight,n.vx=i()*o*2-o,n.vy=i()*o*2-o,n.radius=i()*i()*t.sizeVariations,n.color=r,n._draw()},f.prototype._draw=function(){var e=this;e.context.save(),e.context.translate(e.x,e.y),e.context.moveTo(0,0),e.context.beginPath(),e.context.arc(0,0,e.radius,0,Math.PI*2,!1),e.context.fillStyle=e.color,e.context.fill(),e.context.restore()},f.prototype._updateCoordinates=function(e,t){var n=this,i=n.x+this.vx,o=n.y+this.vy,r=n.radius;i+r>e?i=r:i-r<0&&(i=e-r),o+r>t?o=r:o-r<0&&(o=t-r),n.x=i,n.y=o},s.requestAnimFrame=function(){var e=this,t=s.requestAnimationFrame||s.webkitRequestAnimationFrame||s.mozRequestAnimationFrame;return t||(e._usingPolyfill=!0,function(n){return s.setTimeout(n,16.666666666666668)})}(),new l}(window,document);(function(){"use strict";typeof define=="function"&&define.amd?define("Particles",function(){return Particles}):typeof module<"u"&&module.exports?module.exports=Particles:window.Particles=Particles})();
